<h1>Listing adresses</h1>

<%= grid(@adr_grid) do |g|

  g.column :name => 'Anrede', :attribute => 'anrede_id', 
    :custom_filter => Anrede.find(:all).map{|anrede| [anrede.anrede, anrede.id]}, :auto_reload => true  do |adr|
    adr.anrede.anrede if adr.anrede
  end

  g.column :name => 'Vorname', :attribute => 'vorname'  do |adr|
    adr.vorname
  end

  g.column  :name => 'Nachname', :attribute => 'nachname' do |adr|
    adr.nachname
  end

  g.column do |adr|
    link_to('Edit', edit_adress_path(adr))
  end
end -%>

<!-- alt -->
<table>
  <tr>
    <th>Anredetyp</th>
    <th>Akademischertitel</th>
    <th>Berufstitel</th>
    <th>Berufsfunktion</th>
    <th>Vorname</th>
    <th>Nachname</th>
    <th>Adrstrasse</th>
    <th>Adrort</th>
    <th>Adrplz</th>
    <th>Adrland</th>
    <th>Firma</th>
    <th>Institution</th>
    <th>Newsletter</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @adresses.each do |adress| %>
  <tr>

    <td><%= adress.anrede.anrede if adress.anrede %></td> 
    <td><%= adress.akademischerTitel.titel if adress.akademischerTitel %></td> 
    <td><%= adress.berufsTitel.titel if adress.berufsTitel %></td> 
    <td><%= adress.berufsFunktion.funktion if adress.berufsFunktion %></td> 
    <td><%= adress.vorname %></td> 
    <td><%= adress.nachname %></td>
    <td><%= adress.adrStrasse %></td>
    <td><%= adress.adrOrt %></td>
    <td><%= adress.adrPlz %></td>
    <td><%= adress.land.name if adress.land %></td>
    <td><%= adress.firma %></td>
    <td><%= adress.institution %></td>
    <td><%= adress.newsletter %></td>
    <td><%= link_to 'Show', adress %></td>
    <td><%= link_to 'Edit', edit_adress_path(adress) %></td>
    <td><%= link_to 'Destroy', adress, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Adresse', new_adress_path %>
